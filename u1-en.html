<!doctype html><html><head><meta name=viewport content="width=device-width, initial-scale=1"><meta charset=UTF-8><meta property=og:image content=pattern.png><meta property=og:title content=파일업로드대기중><meta property=og:description content="클릭하여 파일을 업로드해주세요"><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=”ROBOTS” content=”NOINDEX”><link rel=stylesheet href=http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/themes/base/jquery-ui.css><style>
.g--1,body,html{width:100%}body{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline;box-sizing:border-box}.table-header,tr{line-height:52px}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}button{border:none;cursor:pointer}.g--1{margin-top:40px;margin-bottom:40px}@media screen and (max-width:1200px){.g-m--1{width:100%;margin-top:26px;margin-bottom:26px}.m-m--1{margin-left:100%}}@media screen and (max-width:900px){.g-s--1{width:100%;margin-top:18px;margin-bottom:18px}.m-s--1{margin-left:100%}}.m--1{margin-left:100%}@media screen and (max-width:520px){.g-t--1{width:100%;margin-top:10px;margin-bottom:10px}.m-t--1{margin-left:100%}.m-t--0{margin-left:0}}[class*=container]{display:-ms-flexbox;display:flex}.container--baseline{-ms-flex-align:baseline;-ms-grid-row-align:baseline;align-items:baseline}.container--center{-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.container--start{-ms-flex-align:start;-ms-grid-row-align:flex-start;align-items:flex-start}.container--end{-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.container--justify{-ms-flex-pack:center;justify-content:center}.container--wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}@media screen and (max-width:1200px){.m-m--0{margin-left:0}.container--wrap--m{-ms-flex-wrap:wrap;flex-wrap:wrap}}@media screen and (max-width:900px){.m-s--0{margin-left:0}.container--wrap--s{-ms-flex-wrap:wrap;flex-wrap:wrap}}.nudge--right{margin-right:20px}@media screen and (max-width:900px){.nudge--right{margin-right:15px}}.nudge--left{margin-left:20px}@media screen and (max-width:900px){.nudge--left{margin-left:15px}}@media screen and (max-width:520px){.container--wrap--t{-ms-flex-wrap:wrap;flex-wrap:wrap}.nudge--right{margin-right:10px}.nudge--left{margin-left:10px}.no-nudge--t{margin-left:0;margin-right:0}}.card{box-shadow:0 2px 5px 0 rgba(0,0,0,.12),0 2px 10px 0 rgba(0,0,0,.09);border-radius:3px}.card,.tile{padding:20px;background:#fff}a,aside,body,div,h1,h2,h3,h4,h5,h6,header,input,label,menu,p{font-family:sans-serif;color:#212121}h1,h2,h3,h4,h5,h6{margin-bottom:.8em;line-height:130%}p{margin-bottom:20px}h1{font-size:40px}h2{font-size:34px}h3{font-size:28px}h4{font-size:24.8px}h5{font-size:20.8px}h6{font-size:18px}a,p{font-size:16px}.subtitle{font-style:italic;color:#919191}body{background:#efefef;line-height:130%}[class*=btn]{box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);position:relative;cursor:pointer;text-transform:uppercase;margin-bottom:10px;background-size:0;background-repeat:no-repeat;background-position:50% 50%;transition:background-color .3s cubic-bezier(.64,.09,.08,1),box-shadow .3s cubic-bezier(.64,.09,.08,1);will-change:background-size,background-image;padding:10px 20px;display:inline-block;font-family:Roboto;border:0}.btn--float,.btn--raised{will-change:box-shadow,background-color}[class*=btn]:after{position:absolute;content:'';transition:none;background:radial-gradient(circle,#fff 95%,transparent 95%);background-size:.7%;background-position:50% 50%;background-repeat:no-repeat}[class*=btn]:focus{outline:0;background-size:1000%;transition:all 1s cubic-bezier(.64,.09,.08,1)}.btn--float{border-radius:50%;width:50px;height:50px;background-image:radial-gradient(circle,#ffeb3b 1%,#fff388 15%,transparent 30%);background-color:#ffeb3b;font-size:22px;padding:0}.btn--float:hover{box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);background-color:#fe5}.btn--raised{border-radius:1.98px;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);background-image:radial-gradient(circle,#3498db 1%,#75b9e7 15%,transparent 30%);background-color:#3498db;color:#fff}a,a:active{color:inherit}.btn--raised:hover{box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);background-color:#4aa3df}.btn--flat{background-image:radial-gradient(circle,#28e1bd 1%,#6bebd1 15%,transparent 30%);background-color:#efefef;box-shadow:none}.btn--primary{background-image:radial-gradient(circle,#1abc9c 1%,#3ee4c4 15%,transparent 30%);background-color:#1abc9c}.btn--primary:hover{background-color:#1dd2af}.btn--secondary{background-image:radial-gradient(circle,#28e1bd 1%,#6bebd1 15%,transparent 30%);background-color:#28e1bd}.btn--secondary:hover{background-color:#3ee4c4}.btn--accent{background-image:radial-gradient(circle,#ffeb3b 1%,#fff388 15%,transparent 30%);background-color:#ffeb3b}.btn--accent:hover{background-color:#fe5}.btn--red{background-image:radial-gradient(circle,#e74c3c 1%,#ef8b80 15%,transparent 30%);background-color:#e74c3c}.btn--red:hover{background-color:#ea6153}.btn--yellow{background-image:radial-gradient(circle,#f1c40f 1%,#f5d657 15%,transparent 30%);background-color:#f1c40f}.btn--yellow:hover{background-color:#f2ca27}.btn--green{background-image:radial-gradient(circle,#4caf50 1%,#80c883 15%,transparent 30%);background-color:#4caf50}.btn--green:hover{background-color:#5cb860}.btn--blue{background-image:radial-gradient(circle,#2196f3 1%,#6ab8f7 15%,transparent 30%);background-color:#2196f3}.btn--blue:hover{background-color:#39a1f4}a{background:linear-gradient(to top,rgba(40,225,189,.8) 50%,rgba(255,255,255,0) 50%);background-size:100% 200%;background-position:0 10%;background-repeat:no-repeat;text-decoration:none;transition:background-position .3s cubic-bezier(.64,.09,.08,1);will-change:background-position}a:hover{background-position:0 100%}table{border-collapse:collapse;border-spacing:0;width:100%}.table-header{color:#474747;font-size:16px}tr{font-size:17px;border-bottom:solid 1px #ebebeb;will-change:background}tr:not(.table-header):hover{background:#ebebeb}.bg--turqoise,header{background:#1abc9c}td:first-child{padding-left:28px}td:last-child{padding-right:40px}header{width:100%;padding-top:10px;padding-bottom:10px;margin-bottom:70px}header h1,header h2,header h3{color:#fff}@media screen and (max-width:1200px){.no-nudge--m{margin-left:0;margin-right:0}td:first-child{padding-left:28px}td:last-child{padding-right:32px}header{margin-bottom:34px;padding-top:20px}}@media screen and (max-width:900px){.no-nudge--s{margin-left:0;margin-right:0}td:first-child{padding-left:20px}td:last-child{padding-right:20px}header{padding-top:40px;padding-bottom:5px;margin-bottom:8.5px}}.right{float:right}.left{float:left}.inline{display:inline}.inline-block{display:inline-block}.block{display:iblock}.clear{clear:both}.no-pad{padding:0}.no-margin-vertical{margin-top:0;margin-bottom:0}.no-margin{margin:0}.bg--green-sea{background:#16a085}.bg--emerald{background:#2ecc71}.bg--nephritis{background:#27ae60}.bg--green{background:#4caf50}.bg--light-green{background:#8bc34a}.bg--lime{background:#cddc39}.bg--river{background:#3498db}.bg--belize{background:#2980b9}.bg--asphalt{background:#34495e}.bg--midnight-blue{background:#2c3e50}.bg--blue{background:#2196f3}.bg--light-blue{background:#03a9f4}.bg--cyan{background:#00bcd4}.bg--teal{background:#009688}.bg--alizarin{background:#e74c3c}.bg--pomegranate{background:#c0392b}.bg--red{background:#f44336}.bg--carrot{background:#e67e22}.bg--pumpkin{background:#d35400}.bg--dull-orange{background:#f39c12}.bg--orange{background:#ff9800}.bg--blood-orange{background:#ff5722}.bg--amber{background:#ffc107}.bg--sunflower{background:#f1c40f}.bg--yellow{background:#ffeb3b}.bg--amethyst{background:#9b59b6}.bg--plum{background:#8e44ad}.bg--purple{background:#9c27b0}.bg--deep-purple{background:#673ab7}.bg--pink{background:#e91e63}.bg--indigo{background:#3f51b5}.bg--brown{background:#795548}.bg--grey{background:#9e9e9e}.bg--gun-metal{background:#607d8b}.bg--asbestos{background:#7f8c8d}.bg--concrete{background:#95a5a6}.bg--silver{background:#bdc3c7}.bg--clouds{background:#dde4e6}.bg--paper{background:#efefef}.bg--black{background:#212121}.color--turqoise{color:#1abc9c}.color--green-sea{color:#16a085}.color--emerald{color:#2ecc71}.color--nephritis{color:#27ae60}.color--green{color:#4caf50}.color--light-green{color:#8bc34a}.color--lime{color:#cddc39}.color--river{color:#3498db}.color--belize{color:#2980b9}.color--asphalt{color:#34495e}.color--midnight-blue{color:#2c3e50}.color--blue{color:#2196f3}.color--light-blue{color:#03a9f4}.color--cyan{color:#00bcd4}.color--teal{color:#009688}.color--alizarin{color:#e74c3c}.color--pomegranate{color:#c0392b}.color--red{color:#f44336}.color--carrot{color:#e67e22}.color--pumpkin{color:#d35400}.color--dull-orange{color:#f39c12}.color--orange{color:#ff9800}.color--blood-orange{color:#ff5722}.color--amber{color:#ffc107}.color--sunflower{color:#f1c40f}.color--yellow{color:#ffeb3b}.color--amethyst{color:#9b59b6}.color--plum{color:#8e44ad}.color--purple{color:#9c27b0}.color--deep-purple{color:#673ab7}.color--pink{color:#e91e63}.color--indigo{color:#3f51b5}.color--brown{color:#795548}.color--grey{color:#9e9e9e}.color--gun-metal{color:#607d8b}.color--asbestos{color:#7f8c8d}.color--concrete{color:#95a5a6}.color--silver{color:#bdc3c7}.color--clouds{color:#dde4e6}.color--paper{color:#efefef}.color--white{color:#fff}.color--black{color:#212121}.color--primary{color:#1abc9c}.color--secondary{color:#28e1bd}.color--accent{color:#ffeb3b}
</style><title>FIPE</title><style>
    td { text-align: left;vertical-align: middle;  } 

#centerpoint {
    top: 50%;
    left: 50%;
    position: absolute;
}

#dialog {
    position: relative;

    width: 600px;
    margin-left: -300px;

    height: 400px;
    margin-top: -200px;
}
	.progress {
	
height: 20px; float:left;
 width:0%;
overflow: hidden;
background-color: #F5F5F5;
border-radius: 2px;
box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1) inset;
	}
	.progressbar{
	float: left;
width: 0px;   
height: 100%;
font-size: 12px;
line-height: 20px;    
color: #FFF;
text-align: center;
background-color: #337AB7;
box-shadow: 0px -1px 0px rgba(0, 0, 0, 0.15) inset;
transition: width 0.6s ease 0s;
	}

	#toast {
    position: absolute;
    z-index: 101;
    top: 0;
    left: 0;
	display:none;
    right: 0;
    background: #fde073;
    text-align: center;
   
	    font-size: 16px;
    overflow: hidden; 
    -webkit-box-shadow: 0 0 5px black;
    -moz-box-shadow:    0 0 5px black;
    box-shadow:         0 0 5px black;
}
.fileinput-button {
  position: relative;
  overflow: hidden;
  display: inline-block;
}
.fileinput-button input {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  opacity: 0;
  -ms-filter: 'alpha(opacity=0)';
  font-size: 200px !important;
  direction: ltr;
  cursor: pointer;
}

/* Fixes for IE < 8 */
@media screen\9 {
  .fileinput-button input {
    filter: alpha(opacity=0);
    font-size: 100%;
    height: 100%;
  }
}
</style></head><body>
<!-- trace:u1.html --><header id=header1 class="tile g--2 no-margin-vertical bg--deep-purple color--white">파일사서함 #<span id=key></span></header><table class="g--2 no-margin-vertical card" style=padding-bottom:0px;display:none; id=fileinfo><tr class=table-header><td style=width:110px;>파일이름</td><td width=* style="line-height: 1.5em;"><span id=filename style="font-weight: bold;">Loading..</span></td></tr><tr><td>크기</td><td style="line-height: 1.5em;"><span id=uploaded></span><span id=size></span></td></tr></table><div id=notice class="g--1 card no-margin-vertical bg--clouds" style=margin-bottom:10px><span id=noticetext>사서함 정보를 읽고 있습니다</span></div><div id=uploadbtn class="btn--blue btn btn-success fileinput-button" style="display:none;color:white;width: 100%;padding:20px ;text-align: center;font-size:20pt;">파일선택<input id=fileupload type=file></div><div id=uploading style=display:none;width:100%;padding:5px><div style="vertical-align: middle;width:100%;" id=totalprogress></div><button id=stop class="g--1 btn-raised btn--senconday" style=font-size:20pt;font-family:inherit;>취소</button></div><div id=downloadapp style=display:none class="g--1 tile no-margin-vertical"><div style=font-size:14pt;margin-bottom:7px>Try Fipe.</div>With Fipe, you can send any file easily. Reciver don't have to install to download file.<br><br><a href="https://play.google.com/store/apps/details?id=com.clipbirdapp.app&utm_source=downloadpage&utm_medium=webapp&utm_campaign=downloadapp" onclick="ga('send', 'event','app', 'download');" ;="" style=margin-bottom:7px><img height=16px src=http://ssl.gstatic.com/android/market_images/web/favicon.ico>Install Fipe</a><br><br><a href="https://play.google.com/store/apps/details?id=com.clipbirdapp.app"><img id=screen width=300px src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js></script><script>!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=0,c=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(a){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var f,b=this._super,c=this._superApply;return this._super=a,this._superApply=e,f=d.apply(this,arguments),this._super=b,this._superApply=c,f}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var g,h,d=c.call(arguments,1),e=0,f=d.length;e<f;e++)for(g in d[e])h=d[e][g],d[e].hasOwnProperty(g)&&void 0!==h&&(a.isPlainObject(h)?b[g]=a.isPlainObject(b[g])?a.widget.extend({},b[g],h):a.widget.extend({},h):b[g]=h);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var e,f,g,d=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(d={},e=b.split("."),b=e.shift(),e.length){for(f=d[b]=a.widget.extend({},this.options[b]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(b=e.pop(),1===arguments.length)return void 0===f[b]?null:f[b];f[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];d[b]=c}return this._setOptions(d),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});a.widget});

</script><script src=//cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.2/jquery.fileupload.min.js></script><script src=https://www.gstatic.com/firebasejs/3.3.0/firebase-app.js></script><script src=https://sdk.amazonaws.com/js/aws-sdk-2.4.8.min.js></script><script src=https://www.gstatic.com/firebasejs/3.3.0/firebase-database.js></script><script charset=utf-8>
function formatBytes(e,o){if(0==e)return"0 Byte";var n=1e3,i=o+1||3,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=Math.floor(Math.log(e)/Math.log(n));return Number((e/Math.pow(n,t)).toPrecision(i))+" "+r[t]}function getMailtoUrl(e,o,n){var i=[];"undefined"!=typeof o&&i.push("subject="+encodeURIComponent(o)),"undefined"!=typeof n&&i.push("body="+encodeURIComponent(n));var r="mailto:"+encodeURIComponent(e);return i.length>0&&(r+="?"+i.join("&")),r}function langcodef(){var e=["en","ko"],o=navigator.language||navigator.systemLanguage,n=o.toLowerCase();n=n.substr(0,2);var r=(window.location.href,"en");for(i=e.length-1;i>=0;i--)if(n==e[i]){r=n.substr(0,2);break}return r}function feedback(){"ko"==langcode&&confirm("-")?location.href="http://d.fipe.io/feedback":location.href=getMailtoUrl("getonlinedev@gmail.com","from web feedback","\n---\n"+navigator.userAgent)}var QueryString=function(){for(var e={},o=window.location.search.substring(1),n=o.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if("undefined"==typeof e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var t=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=t}else e[r[0]].push(decodeURIComponent(r[1]))}return e}(),ua=navigator.userAgent,isChrome=ua.toLowerCase().indexOf("chrome")>-1,isAndroid=ua.toLowerCase().indexOf("android")>-1,isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream,inapp=ua.indexOf("KAKAOTALK")>=0||ua.indexOf("IAB")>=0,isSamsungBrowser=ua.indexOf("SamsungBrowser")>=0,isLG=ua.indexOf("; LG-")>=0,isFileSaverSupported,osVersion;isAndroid&&(osVersion=/Android ([\.\_\d]+)/.exec(ua)[1]);try{var MyBlob=new Blob(["test text"],{type:"text/plain"});isFileSaverSupported=MyBlob instanceof Blob&&!isIOS&&!(isAndroid&&isLG&&cmpVersions(osVersion,"5.0.0")<=0)}catch(e){isFileSaverSupported=!1}var newwindow=isAndroid&&inapp;(newwindow||isSamsungBrowser)&&(isFileSaverSupported=!1);var langcode=langcodef();
</script><script>
/*jslint unparam: true */
/*global window, $ */
var id=QueryString["id"];
$("#key").html(id);
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAxwXm3pPSMmIdvcmF2EIkrQ71Fbs7hrTo",
    authDomain: "clipbird.firebaseapp.com",
    databaseURL: "https://clipbird.firebaseio.com",
    storageBucket: "project-8716136009109148807.appspot.com",
  };
  firebase.initializeApp(config);
var ref = firebase.database().ref('d2/' + id);

AWS.config.region = 'ap-northeast-1'; // Region
	AWS.config.credentials = new AWS.CognitoIdentityCredentials({
		IdentityPoolId: 'ap-northeast-1:9fb79308-a977-4e65-bbb6-7775b3803ce5',
	});

	var lambda = new AWS.Lambda({
		maxRetries :2,
  region: 'ap-northeast-1' //change to your region
});



var startdownloadc=function(){
		
try{	firebase.database().goOffline();}
catch (e){}
	

			
location.href="intent:http://u.fipe.io/q"+id +"#Intent;package=com.clipbirdapp.app;end;";
  

	
}


function notice(text){
	if(text==null) {$("#notice").hide();} else {
	$("#notice").html(text);
		$("#notice").show();;

	}
}


var renderprogress=function(g){
var p="";

 var w=100/g;
		for(j=0;j<g;j++){
			
			p+="<div class='progress'  style='height:40px;width:"+w+"%;'  ><div class='progressbar'  id='progress"+j+"'  style='width: 0%;' ></div></div>"
		}

	
	$("#totalprogress").html(p);

}

var closebox=function(s){

if(s) notice(s);
firebase.database().goOffline();

$('#uploadbtn').hide();
			$('#uploading').hide();
}


var setprogressbar=function(g){
var	i=0;
	$('#progress'+i).css('width', Math.min(100, (g*100)) +"%");
	

}
var data=null;
var file=null;
var fn=null;
var inituploader=function(){
   //var url ="https://ssproxy.ucloudbiz.olleh.com/v1/AUTH_bdd52ad2-a757-460a-ac19-4eb2c13756e8/clipbird/0829/5918e92db95b4f398fca4c941461f07c?temp_url_expires=1473075773&temp_url_sig=f960b93f503d2ed766f5ba3fc3fdf10fda88f66a";
	notice("-저장된 파일은 사서함주인(이링크를 준 사람)에게 전달됩니다.<br>-파일 업로드가 완료되면 파일함이 닫힙니다.(사서함주인만 볼 수 있습니다.)");

	$('#uploadbtn').show();
    $('#fileupload').fileupload({
      //  url: url,
		type: 'PUT',
        dataType: 'json',
		multipart : false,
		done: function (e, data) {
            
				
				closebox=function(){
				

				};
		 var date=new Date();
		  var time =  date.getTime() + 60*60*48*1000;
				ref.update(
				{ 'name':file.name ,
				   'size':file.size,
				   'type':file.type||"application/unknown",
				   'fn':fn,
				 
				   'time':time

				}, function (e){
					if(e!=null){
						notice("업로드에 문제가 생겼습니다. 새로고침 해주세요."); 
						return;}

								$('#uploading').hide();
							notice("업로드가 완료되었습니다.(사서함 주인이 알림을 받고 저장하게 됩니다.)");
							lambda.invoke({
							  FunctionName: 'notiupload',
							  Payload: JSON.stringify({"key":id,"file":file.name}, null, 2) // pass params
							}, function(error, d) {
						
							//alert(d.Payload.url);
								
								  if(error!=null){
									alert("사서함 주인에게 알림을 보내는 과정에서 오류가 발생했습니다. 파일을 저장했다고 직접 알려주세요");
								  					  
								  }else {
									 }
							});

				}
				);				
			//	ref.child('name').set(file.name);

			//	ref.child('fn').set(fn);
			//	ref.child('parts').set(1);
				
			//	ref.child('size').set(file.size);
			
			//	ref.child('type').set( file.type||"application/unknown");
				//ref.child('upload').remove();

							
			
        },
        progressall: function (e, data) {
			$('#uploaded').html(formatBytes(data.loaded,1)+"/");
			
			setprogressbar(data.loaded / data.total);
            
        },
		start: function(e,data){
		
		 if(isIOS||isAndroid) {
			 notice("업로드가 완료될때까지 창을 유지해 주세요");	
		 } else {
			 notice(null);	
		 }
		}
		,
		add: function (e, data) {
			var f= data.files[0];
			file=f;
			renderprogress(1);
				notice(null);
			
			if(f.size>4*1024*1024*1024 ){
					notice("파일 사이즈는 4G까지 첨부가능합니다.다른 파일을 선택해주세요.");
							$('#uploadbtn').show();
							$('#uploading').hide();
							return;
			}
			$('#filename').html(f.name);
			$('#size').html(formatBytes(f.size,1));
			
			$('#uploadbtn').hide();
			$('#uploading').show();


		

			$('#stop').on('click', function () {
                      

                        data.abort();
						
					
						$('#fileinfo').hide();
						notice("업로드가 취소 되었습니다. 다시 시도해주세요");
							$('#uploadbtn').show();
							$('#uploading').hide();
                    });
			$('#fileinfo').show();
			notice("업로드가 곧 시작됩니다.");	

			lambda.invoke({
				  FunctionName: 'getBox',
				  Payload: JSON.stringify({"d":"D"}, null, 2) // pass params
				}, function(error, d) {
			
				//alert(d.Payload.url);
			 var a=	JSON.parse(d.Payload);
					  if(error==null&& a.url){
						$('#fileupload').data().blueimpFileupload.options.url=a.url;
						fn=a.filename;
						 data.submit();
					  } else {
					  
					  		$('#fileinfo').hide();
						notice("준비과정에 문제가 발생했습니다. 다시 시도해주세요");
							$('#uploadbtn').show();
							$('#uploading').hide();
					  }
				});

           
        }
		,failed:function (e, data) {
				notice("업로드에 실패했습니다. 다시 시도해주세요");
				 data=null;
				file=null;
				
				$('#uploadbtn').show();
							$('#uploading').hide();
		}
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');

}


$(function () {
    'use strict';
	
	if(isAndroid){
		$('#footer_play').hide();
				$('#footer_admin').show();

	}
		
	ref.child('fn').on('value', function(snapshot) {
			var v=		snapshot.val();
		  if(v){
			
			if(v=='-')inituploader();
			 else {
			 	if(data) data.abort(); 
			
			closebox("업로드가 완료된 사서함입니다. 사서함 주인만 볼 수 있습니다.");
			 }
		  
		  } 
		
		},function(e){
			console.log(e);
			
			closebox("존재하지 않는 사서함입니다.링크를 주신 분께 다시 요청해주세요.");
				
		});


		
});
</script><div id=log></div><script>  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
   ga('create', 'UA-69508006-1', 'auto'); 
   ga('set', 'location', window.location.protocol + "//"  +window.location.host +  window.location.pathname);
 
 ga('get', 'pageview');

</script></body><footer class="g--1 no-margin-vertical:"><div style=float:left;margin-left:10px;margin-right:10px;><a href=# onclick=feedback()>Feedback</a></div><div style=float:right;margin-left:10px;margin-right:10px; id=footer_play><a href="https://play.google.com/store/apps/details?id=com.clipbirdapp.app">Fipe</a></div><div style=float:right;margin-left:10px;margin-right:10px;display:none id=footer_admin><a href=# onclick=startdownloadc()>사서함 주인용 메뉴</a></div></footer></html>